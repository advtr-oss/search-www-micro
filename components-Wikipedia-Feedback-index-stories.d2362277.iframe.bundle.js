"use strict";(self.webpackChunksearch_ui=self.webpackChunksearch_ui||[]).push([[757],{"./src/components/Wikipedia/Feedback/index.stories.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder}});var _home_runner_work_search_www_micro_search_www_micro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js")),_index__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Wikipedia/Feedback/index.jsx"),_providers_AnalyticsProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/providers/AnalyticsProvider/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Wikipedia/Feedback",component:_index__WEBPACK_IMPORTED_MODULE_2__.x,decorators:[function(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_providers_AnalyticsProvider__WEBPACK_IMPORTED_MODULE_3__.Z,{trackAdvtrAnalyticsEvent:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("trackAdvtrAnalyticsEvent"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Story,{})})}]};var Default={render:function render(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_index__WEBPACK_IMPORTED_MODULE_2__.x,(0,_home_runner_work_search_www_micro_search_www_micro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},args))},args:{ping:"RNG",onClick:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("on-click")}},__namedExportsOrder=["Default"]},"./src/components/Wikipedia/Feedback/index.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{x:function(){return Feedback}});var _templateObject,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),flag=__webpack_require__("./node_modules/react-feather/dist/icons/flag.js"),esm=__webpack_require__("./node_modules/@advtr/tidy/dist/esm/index.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),Feedback_Wrapper=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.button(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  display: flex;\n  align-items: center;\n  align-content: center;\n\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  background-color: inherit;\n  \n  font-family: ",";\n  font-size: ",";\n  \n  & svg {\n    width: ",";\n    height: ",";\n  }\n  \n  & span {\n    padding-left: 8px;\n  }\n"])),(0,esm.get)("typography.fontFamily.mono"),(0,esm.get)("typography.fontSize.0"),(0,esm.get)("typography.fontSize.0"),(0,esm.get)("typography.fontSize.0")),AnalyticsContext=__webpack_require__("./src/contexts/AnalyticsContext/index.js"),hooks_useAnalyticsProvider=function useAnalyticsProvider(){return(0,react.useContext)(AnalyticsContext.Z)},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["onClick","ping","title"],Feedback=function Feedback(_ref){var onClick=_ref.onClick,ping=_ref.ping,title=_ref.title,rest=(0,objectWithoutProperties.Z)(_ref,_excluded),_useFeedback=function useFeedback(ping,onClick){var analytics=hooks_useAnalyticsProvider();return[(0,react.useCallback)((function(event){event.preventDefault(),analytics&&analytics.trackAdvtrAnalyticsEvent("feedback","wikipedia",ping);var reported=new Set(JSON.parse((0,esm.getCookie)("FEEDBACK:WIKI:REPORTED"))||[]);reported.add(ping),(0,esm.setCookie)("FEEDBACK:WIKI:REPORTED",JSON.stringify(reported),524160),onClick&&onClick(event)}),[onClick,ping])]}(ping,onClick),handleClick=(0,slicedToArray.Z)(_useFeedback,1)[0];return(0,jsx_runtime.jsxs)(Feedback_Wrapper,(0,objectSpread2.Z)((0,objectSpread2.Z)({onClick:handleClick},rest),{},{children:[(0,jsx_runtime.jsx)(flag.Z,{}),(0,jsx_runtime.jsx)("span",{children:title})]}))};Feedback.defaultProps={title:"Report False Data"}},"./src/contexts/AnalyticsContext/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var AnalyticsContext=(0,__webpack_require__("./node_modules/react/index.js").createContext)(null);__webpack_exports__.Z=AnalyticsContext},"./src/providers/AnalyticsProvider/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _home_runner_work_search_www_micro_search_www_micro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react_ga__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react-ga/dist/esm/index.js")),_contexts_AnalyticsContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/contexts/AnalyticsContext/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),AnalyticsProvider=function AnalyticsProvider(_ref){var children=_ref.children,trackAdvtrAnalyticsEvent=_ref.trackAdvtrAnalyticsEvent;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_contexts_AnalyticsContext__WEBPACK_IMPORTED_MODULE_2__.Z.Provider,{value:{trackAdvtrAnalyticsEvent:trackAdvtrAnalyticsEvent,trackGoogleAnalyticsEvent:function track(method,action,options){react_ga__WEBPACK_IMPORTED_MODULE_1__.ZP[method]((0,_home_runner_work_search_www_micro_search_www_micro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_search_www_micro_search_www_micro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},options),{},{action:action}))}},children:children})};AnalyticsProvider.defaultProps={trackAdvtrAnalyticsEvent:function trackAdvtrAnalyticsEvent(){}},__webpack_exports__.Z=AnalyticsProvider}}]);