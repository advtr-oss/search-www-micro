"use strict";(self.webpackChunksearch_ui=self.webpackChunksearch_ui||[]).push([[677],{"./src/components/PhotoGallery/Item/index.stories.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder}});var _home_runner_work_search_www_micro_search_www_micro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_index__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/PhotoGallery/Item/index.jsx")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"PhotoGallery/Item",component:_index__WEBPACK_IMPORTED_MODULE_1__.c,decorators:[function(Story){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{width:"400px",height:"600px",overflow:"hidden"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Story,{})})}]};var Default={render:function render(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_index__WEBPACK_IMPORTED_MODULE_1__.c,(0,_home_runner_work_search_www_micro_search_www_micro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},args))},args:(0,_home_runner_work_search_www_micro_search_www_micro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_runner_work_search_www_micro_search_www_micro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},{id:"QJKEa9n3yN8",rect:{width:2048,height:3089},alt:"white and gray high rise buildings near body of water during daytime",color:"#4073a6",urls:{raw:"https://images.unsplash.com/photo-1580674684081-7617fbf3d745?ixid=MnwyMDE0NjF8MHwxfHNlYXJjaHw4fHxkdWJhaXxlbnwwfHx8fDE2NjA2NDY0NTA&ixlib=rb-1.2.1",full:"https://images.unsplash.com/photo-1580674684081-7617fbf3d745?crop=entropy&cs=tinysrgb&fm=jpg&ixid=MnwyMDE0NjF8MHwxfHNlYXJjaHw4fHxkdWJhaXxlbnwwfHx8fDE2NjA2NDY0NTA&ixlib=rb-1.2.1&q=80",regular:"https://images.unsplash.com/photo-1580674684081-7617fbf3d745?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyMDE0NjF8MHwxfHNlYXJjaHw4fHxkdWJhaXxlbnwwfHx8fDE2NjA2NDY0NTA&ixlib=rb-1.2.1&q=80&w=1080",small:"https://images.unsplash.com/photo-1580674684081-7617fbf3d745?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyMDE0NjF8MHwxfHNlYXJjaHw4fHxkdWJhaXxlbnwwfHx8fDE2NjA2NDY0NTA&ixlib=rb-1.2.1&q=80&w=400",thumb:"https://images.unsplash.com/photo-1580674684081-7617fbf3d745?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyMDE0NjF8MHwxfHNlYXJjaHw4fHxkdWJhaXxlbnwwfHx8fDE2NjA2NDY0NTA&ixlib=rb-1.2.1&q=80&w=200",small_s3:"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1580674684081-7617fbf3d745"},links:{self:"https://api.unsplash.com/photos/QJKEa9n3yN8",html:"https://unsplash.com/photos/QJKEa9n3yN8",download:"https://unsplash.com/photos/QJKEa9n3yN8/download?ixid=MnwyMDE0NjF8MHwxfHNlYXJjaHw4fHxkdWJhaXxlbnwwfHx8fDE2NjA2NDY0NTA",download_location:"https://api.unsplash.com/photos/QJKEa9n3yN8/download?ixid=MnwyMDE0NjF8MHwxfHNlYXJjaHw4fHxkdWJhaXxlbnwwfHx8fDE2NjA2NDY0NTA"}}),{},{defaultWidth:400})},__namedExportsOrder=["Default"]},"./src/components/PhotoGallery/Item/index.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{c:function(){return Item}});var _templateObject,_templateObject2,_templateObject3,components_templateObject,components_templateObject2,components_templateObject3,slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),aspect_width=function width(height,size){return height*(size.width/size.height)},Item_Wrapper=styled_components_browser_esm.default.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  //display: flex;\n  //align-items: center;\n  //justify-content: center;\n  //\n  position: relative;\n  width: 100%;\n  //height: 0;\n  /**\n   * For human readability, the ratio is expressed as\n   * width / height, so we need to invert it.\n   */\n  padding-bottom: ","%;\n  \n  ","\n"])),(function(_ref){return 1/_ref.aspectRatio*100}),(function(_ref2){return"portrait"===function orientation(size){return size.height>size.width?"portrait":size.height<size.width?"landscape":"square"}(_ref2.rect)?(0,styled_components_browser_esm.css)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    & {\n      grid-row: span 2;\n      grid-column: span 1;\n    }\n  "]))):(0,styled_components_browser_esm.css)(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    & {\n      grid-row: span 1;\n      grid-column: span 1;\n    }\n  "])))})),esm=__webpack_require__("./node_modules/@advtr/tidy/dist/esm/index.js"),Image=styled_components_browser_esm.default.img(components_templateObject||(components_templateObject=(0,taggedTemplateLiteral.Z)(["\n  ","\n  \n  //flex-shrink: 0;\n  //min-width: 100%;\n  //min-height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  vertical-align: middle;\n  cursor: pointer;\n"])),(function(_ref){return _ref.isLoading&&(0,styled_components_browser_esm.css)(components_templateObject2||(components_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    display: none;\n  "])))})),LoadingSpan=(0,styled_components_browser_esm.default)(esm.Glow)(components_templateObject3||(components_templateObject3=(0,taggedTemplateLiteral.Z)(["\n  position: absolute;\n  \n  background: ",";\n  \n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"])),(function(_ref2){return _ref2.background})),vh=function vh(str){return"".concat(str.toString(),"vh")},vw=function vw(str){return"".concat(str.toString(),"vw")},pixel=function pixel(str){return"".concat(str.toString(),"px")},percent=function percent(str){return"".concat(str.toString(),"%")},calc=function calc(str){return"calc(".concat(str,")")},maxWidth=function maxWidth(str){return"(max-width: ".concat(str,")")},maxHeight=function maxHeight(str){return"(max-height: ".concat(str,")")},multiplication=function multiplication(lhs,rhs){return"".concat(lhs," * ").concat(rhs)},minus=function minus(lhs,rhs){return"".concat(lhs," - ").concat(rhs)},min=function min(str){return"min(".concat(str.join(", "),")")},toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),index_esm=__webpack_require__("./node_modules/ts-imgix/target/index.esm.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Item=function Item(_ref){var urls=_ref.urls,links=_ref.links,alt=_ref.alt,background=_ref.color,rect=_ref.rect,ref=(0,react.useRef)(),_useState=(0,react.useState)(!0),_useState2=(0,slicedToArray.Z)(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1],handleLoad=(0,react.useCallback)((function(){setLoading(!1)}),[]),srcSet=(0,react.useMemo)((function(){return function getImgSrcSetString(url,rect,intervals){var bounds={lower:aspect_width(155,rect),upper:rect.width},max=Math.ceil(bounds.upper),minimum=Math.trunc((bounds.upper-bounds.lower)/intervals),count=1;return bounds.lower<=bounds.lower+minimum&&(count=Math.max(0,Math.floor(bounds.lower+minimum-bounds.lower+1))),[].concat((0,toConsumableArray.Z)(Array(count).fill(0).map((function(_,idx){return Math.ceil(bounds.lower+intervals*idx)}))),[max]).map((function(width){var uri=(0,index_esm.qF)(url)({w:width,fit:"crop",ar:{w:rect.width,h:rect.height}});return"".concat(uri," ").concat(width,"w")})).join(", ")}(urls.raw,rect,300)}),[rect,urls]),sizes=(0,react.useMemo)((function(){return function getImgSizesString(src,size,minimumVerticalHeight){var defaults={width:vw(100),height:vh(100)},padding={totalHorizontal:2*parseInt("16px"),totalVertical:parseInt("16px")+minimumVerticalHeight,horizontalLength:"16px",verticalLength:pixel(parseInt("16px")/2)},baseMediaCondition=maxWidth(pixel("767")),horizontal=calc(minus(defaults.width,pixel(32))),vertical=calc(minus(defaults.height,pixel(20+minimumVerticalHeight))),_ref=function(props){var size=props.size,aspect=size.width/size.height,calculatedWidth=Math.ceil(aspect_width(180,size));return{minWidthLength:min([percent(100),pixel(calculatedWidth)]),maxWidthLength:calc(multiplication(vertical,aspect.toPrecision(6)))}}({src:src,size:size,minimumVerticalHeight:minimumVerticalHeight}),maxWidthLength=_ref.maxWidthLength,minWidthLength=_ref.minWidthLength,width=size.width,height=size.height,totalVertical=padding.totalVertical,totalHorizontal=padding.totalHorizontal,calculatedWidth=Math.ceil(aspect_width(180,size)),calculatedHeight=Math.ceil(function height(width,size){return width*(size.height/size.width)}(calculatedWidth,size));return[{mediaCondition:baseMediaCondition,width:defaults.width},{mediaCondition:maxWidth(pixel(calculatedWidth+totalHorizontal)),width:minWidthLength},{mediaCondition:maxHeight(pixel(calculatedHeight+totalVertical)),width:minWidthLength},{mediaCondition:"(min-aspect-ratio: ".concat(width.toString()," / ").concat(height.toString(),")"),width:maxWidthLength},{width:horizontal}].map((function(el){return[el.mediaCondition,el.width].filter((function(el){return!!el})).join(" ")})).join(", ")}(urls.raw,rect,155)}),[rect,urls]);return(0,jsx_runtime.jsxs)(Item_Wrapper,{aspectRatio:rect.width/rect.height,rect:rect,children:[(0,jsx_runtime.jsx)("a",{href:links.html,target:"_blank",rel:"noreferrer",children:(0,jsx_runtime.jsx)(Image,{isLoading:isLoading,onLoad:handleLoad,src:urls.raw,srcSet:srcSet,sizes:sizes,alt:alt,ref:ref})}),isLoading&&(0,jsx_runtime.jsx)(LoadingSpan,{background:background})]})};Item.defaultProps={defaultWidth:400}}}]);